<style>
@@keyframes glare {
    0% {
        background-position: -200% center;
    }
    100% {
        background-position: 200% center;
    }
}
.glare {
    background: linear-gradient(90deg,
        transparent 0%,
        transparent 40%,
        rgba(255, 255, 255, 0.3) 50%,
        transparent 60%,
        transparent 100%);
    background-size: 200% 100%;
    animation: glare 2s ease-in-out infinite;
}
</style>
@if (HltbLoading)
{
    <div class="divider text-2xl">How Long to Beat</div>
    <div class="flex flex-col md:flex-row gap-4 w-full">
        @for (int i = 0; i < 3; i++)
        {
            <div class="card bg-base-300 shadow-lg flex-1 glare">
                <div class="card-body items-center text-center">
                    <div class="skeleton h-6 w-32 mb-2"></div>
                    <div class="skeleton h-12 w-20 my-2"></div>
                    <div class="skeleton h-4 w-16"></div>
                </div>
            </div>
        }
    </div>
}
else if (HltbData != null)
{
    <div class="divider text-2xl">How Long to Beat</div>
    <div class="flex flex-col @("@6xl:flex-row") justify-center gap-4 w-full">
        @if (!string.IsNullOrEmpty(HltbData.MainStory))
        {
            <div class="card bg-primary/10 border-2 border-primary shadow-lg max-md-flex-1 min-w-[200px]">
                <div class="card-body items-center text-center p-2">
                    <h3 class="card-title text-primary">Main Story</h3>
                    <div class="text-5xl font-bold text-primary my-2">@HltbData.MainStory</div>
                    <p class="text-xl text-primary">hours</p>
                </div>
            </div>
        }
        @if (!string.IsNullOrEmpty(HltbData.MainPlusExtras))
        {
            <div class="card bg-secondary/10 border-2 border-secondary shadow-lg max-md-flex-1 min-w-[200px]">
                <div class="card-body items-center text-center p-2">
                    <h3 class="card-title text-secondary">Main + Extras</h3>
                    <div class="text-5xl font-bold text-secondary my-2">@HltbData.MainPlusExtras</div>
                    <p class="text-xl text-secondary">hours</p>
                </div>
            </div>
        }
        @if (!string.IsNullOrEmpty(HltbData.Completionist))
        {
            <div class="card bg-accent/10 border-2 border-accent shadow-lg max-md-flex-1 min-w-[200px]">
                <div class="card-body items-center text-center p-2">
                    <h3 class="card-title text-accent">Completionist</h3>
                    <div class="text-5xl font-bold text-accent my-2">@HltbData.Completionist</div>
                    <p class="text-xl text-accent">hours</p>
                </div>
            </div>
        }
    </div>
}
else if (!HltbLoading)
{
    <div class="divider text-2xl">How Long to Beat</div>
    <div class="alert alert-info shadow-lg">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
        <span>No HowLongToBeat data available for this game.</span>
    </div>
}
@code {
    [Parameter] public bool HltbLoading { get; set; }
    [Parameter] public HltbGameResultDto? HltbData { get; set; }
}
